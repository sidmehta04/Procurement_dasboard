<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clinic Inventory - User View (Clinic1)</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <script>
      // Check if this page was reloaded
      if (performance.navigation.type === 1) {
        // Redirect to index.html
        window.location.href = "index.html";
      }
    </script>
  </head>
  <body>
    <!-- Language Selector -->
    <div class="language-selector">
      <label for="language">Choose Language: </label>
      <select id="language" onchange="changeLanguage(this.value)">
        <option value="en">English</option>
        <option value="hi">Hindi</option>
        <option value="bn">Bengali</option>
      </select>
    </div>

    <img
      src="https://cdn.glitch.global/973b7907-6eda-445e-86fb-8aaf21979237/download-removebg-preview.png?v=1722058759134"
      alt="Logo"
      class="logo"
    />

    <!-- Dark Mode Toggle Button -->
    <div class="footer">
      <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
    </div>

    <div id="userViewSection" class="admin-container">
      <!-- Clinic Inventory Section -->
      <div class="admin-section collapsible">
        <h2 data-lang="clinicInventory">
          Clinic Inventory - <span id="clinic-name"></span>
          <button class="toggle-btn" onclick="toggleSection(this)">⮝</button>
        </h2>
        <div class="section-content show">
          <!-- Search Bar -->
          <label for="searchInventory" data-lang="searchInventory">Search Inventory:</label>
          <input
            type="text"
            id="searchInventory"
            placeholder="Search..."
            onkeyup="searchInventory()"
            class="inputField"
          />
          <!-- Inventory Table -->
          <table id="clinicTable" class="inventoryTable">
            <thead>
              <tr>
                <th data-lang="item">Item</th>
                <th data-lang="quantity">Quantity</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <!-- Pending Requests Section -->
      <div class="admin-section collapsible">
        <h2>
          Pending Requests
          <button class="toggle-btn" onclick="toggleSection(this)">⮝</button>
        </h2>
        <div class="section-content show">
          <table id="pendingRequestsTable">
            <thead>
              <tr>
                <th>Asset</th>
                <th>Quantity</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <!-- Pending requests will be dynamically loaded here -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Approved Items Section -->
      <div class="admin-section collapsible">
        <h2>
          Approved Items
          <button class="toggle-btn" onclick="toggleSection(this)">⮝</button>
        </h2>
        <div class="section-content show">
          <table id="approvedItemsTable">
            <thead>
              <tr>
                <th>Asset</th>
                <th>Quantity</th>
                <th>Approval Date</th>
                <th>Status</th>
                <th>Comments</th>
              </tr>
            </thead>
            <tbody>
              <!-- Approved items will be dynamically loaded here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p data-lang="footerText">Made with ♥ by M-Swasth Team</p>
    </div>

    <script type="module" src="user-view.js"></script>
    <script type="module" src="translation.js"></script>
  </body>
</html>